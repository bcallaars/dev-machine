---
- name: Update brew daily
  cron: name="brew autoupdate" special_time="daily"
        job="/usr/local/bin/brew update"

- name: Cleanup brew
  cron: name="brew cleanup" special_time="monthly"
        job="/usr/local/bin/brew cleanup"

- name: Install cask
  command: brew tap caskroom/cask

- name: Install packages from Homebrew
  homebrew: name={{ item }} state=present
  with_items:
    - nvm
    - tree
    - python2
    - speedtest_cli
    - neovim
    - tmux
    - gnupg
    - pinentry-mac
    - antigen
    - heroku
    - exa
    - docker
    - docker-compose
    - postgresql
    - redis
    - phantomjs
    - ghostscript
    - ctags
    - neovim
    - awscli
    - rbenv

- name: Install packages from Homebrew Cask
  ignore_errors: yes
  homebrew_cask: name={{ item }} state=present
  with_items:
    - google-chrome
    - iterm2
    - private-internet-access
    - vlc
    - vlc-webplugin
    - slack
    - flux
    - karabiner-elements
    - vanilla
    - kap
    - whatsapp
    - switchresx
    - pgadmin4
